{
  "id": "bst-insert",
  "title": "bst-insert",
  "difficulty": "medium",
  "time": "15 minutes",
  "category": "trees",
  "description": "Write a function `bst-insert` that takes a binary search tree and a value, and returns a new BST with the value inserted while maintaining the BST property. If the value already exists in the tree, return the original tree.",
  "examples": [
    {
      "input": "(bst-insert empty 5)",
      "output": "(make-node empty empty 5)",
      "explanation": "Insert 5 into empty tree"
    },
    {
      "input": "(bst-insert (make-node empty empty 5) 3)",
      "output": "(make-node (make-node empty empty 3) empty 5)",
      "explanation": "Insert 3 as left child of 5"
    },
    {
      "input": "(bst-insert (make-node (make-node empty empty 2) empty 5) 8)",
      "output": "(make-node (make-node empty empty 2) (make-node empty empty 8) 5)",
      "explanation": "Insert 8 as right child of 5"
    },
    {
      "input": "(bst-insert (make-node (make-node empty empty 2) (make-node empty empty 8) 5) 5)",
      "output": "(make-node (make-node empty empty 2) (make-node empty empty 8) 5)",
      "explanation": "5 already exists, return original tree"
    }
  ],
  "starterCode": "(define-struct node (left right key))\n\n(define (bst-insert t val))\n\n(bst-insert empty 5)\n(bst-insert (make-node empty empty 5) 3)\n(bst-insert (make-node (make-node empty empty 2) empty 5) 8)\n(bst-insert (make-node (make-node empty empty 2) (make-node empty empty 8) 5) 5)",
  "hiddenCases": [
    "(check-expect (bst-insert empty 5) (make-node empty empty 5))",
    "(check-expect (bst-insert (make-node empty empty 5) 3) (make-node (make-node empty empty 3) empty 5))",
    "(check-expect (bst-insert (make-node (make-node empty empty 2) empty 5) 8) (make-node (make-node empty empty 2) (make-node empty empty 8) 5))",
    "(check-expect (bst-insert (make-node (make-node empty empty 2) (make-node empty empty 8) 5) 5) (make-node (make-node empty empty 2) (make-node empty empty 8) 5))",
    "(check-expect (bst-insert (make-node (make-node (make-node empty empty 1) (make-node empty empty 3) 2) (make-node (make-node empty empty 6) (make-node empty empty 8) 7) 5) 4) (make-node (make-node (make-node empty empty 1) (make-node empty (make-node empty empty 4) 3) 2) (make-node (make-node empty empty 6) (make-node empty empty 8) 7) 5))",
    "(check-expect (bst-insert (make-node empty (make-node empty (make-node empty empty 10) 8) 5) 6) (make-node empty (make-node (make-node empty empty 6) (make-node empty empty 10) 8) 5))",
    "(check-expect (bst-insert (make-node (make-node empty empty 2) empty 5) 2) (make-node (make-node empty empty 2) empty 5))",
    "(check-expect (bst-insert (make-node (make-node (make-node (make-node empty empty 1) empty 3) empty 7) (make-node empty (make-node empty empty 15) 12) 10) 9) (make-node (make-node (make-node (make-node empty empty 1) empty 3) empty 7) (make-node (make-node empty empty 9) (make-node empty empty 15) 12) 10))",
    "(check-expect (bst-insert (make-node (make-node (make-node (make-node empty empty 1) empty 3) empty 7) empty 10) 8) (make-node (make-node (make-node (make-node empty empty 1) empty 3) empty 7) (make-node empty empty 8) 10))",
    "(check-expect (bst-insert (make-node empty (make-node (make-node (make-node empty empty 13) empty 17) (make-node empty empty 25) 20) 15) 18) (make-node empty (make-node (make-node (make-node empty empty 13) (make-node empty empty 18) 17) (make-node empty empty 25) 20) 15))"
  ]
}
